import{A as d,B as W,C as X,D as M,E as N,F as w,G as T,H as Y,I as P,J as S,K as F,L as Z,M as ee,Q as te,S as ie,T as ne,U as $,Y as D,Z as oe,_ as re,a as V,b as q,c as O,d as A,e as J,f as B,g as z,h as I,i as H,j as f,k as E,l as G,m as K,n as _,o as c,p as h,q as u,r as R,s as m,t as o,u as r,v as p,w as Q,x as v,y as C,z as a}from"./chunk-7DPEPTNN.js";import"./chunk-OC64LIZX.js";var g=(()=>{let e=class{constructor(t){this.http=t,this.cacheStore={byCapital:{lastSearch:"",countries:[]},byCountries:{lastSearch:"",countries:[]},byRegion:{lastSearch:void 0,countries:[]}},this.baseUrl="https://restcountries.com/v3.1/",this.countries=[]}getCountryRequest(t){return this.http.get(t).pipe(O(n=>V([])),A(1e3))}searchCapital(t){let n=`${this.baseUrl}capital/${t}`;return this.getCountryRequest(n).pipe(B(s=>this.cacheStore.byCapital={countries:s,lastSearch:t}))}searchByName(t){let n=`${this.baseUrl}name/${t}`;return this.getCountryRequest(n).pipe(B(s=>this.cacheStore.byCountries={countries:s,lastSearch:t}))}searchByRegion(t){let n=`${this.baseUrl}region/${t}`;return this.getCountryRequest(n).pipe(B(s=>this.cacheStore.byRegion={countries:s,lastSearch:t}))}searchById(t){let n=`${this.baseUrl}alpha/${t}`;return this.http.get(n).pipe(q(s=>s.length>0?s[0]:null),O(()=>V(null)))}},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)(H(ee))}})(),(()=>{e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})})(),i})();function ue(i,e){i&1&&(o(0,"div"),a(1,` No Countries to Show
`),r())}var de=function(i){return["/countries/by",i]};function fe(i,e){if(i&1&&(o(0,"tr")(1,"td",4),a(2),r(),o(3,"td",4),p(4,"img",5),r(),o(5,"td",4),a(6),r(),o(7,"td",4),a(8),N(9,"number"),r(),o(10,"td",4),a(11),r(),o(12,"td",4)(13,"a",6),a(14,"Ver mas"),r()()()),i&2){let l=e.$implicit,t=e.index;X("text-black ",t%2===0?"bg-gray-500":"bg-gray-300",""),c(2),d(t+1),c(2),m("src",l.flags.svg,_)("alt",l.name.common),c(2),d(l.name.common),c(2),d(w(9,10,l.population)),c(3),d(l.capital),c(2),m("routerLink",M(12,de,l.cca3))}}function he(i,e){if(i&1&&(o(0,"table",2)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),r(),o(5,"th"),a(6,"Bandera"),r(),o(7,"th"),a(8,"Nombre"),r(),o(9,"th"),a(10,"Poblacion"),r(),o(11,"th"),a(12,"Capital"),r(),p(13,"th"),r()(),o(14,"tbody"),u(15,fe,15,14,"tr",3),r()()),i&2){let l=C();c(15),m("ngForOf",l.countries)}}var x=(()=>{let e=class{constructor(){this.countries=[]}},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)}})(),(()=>{e.\u0275cmp=f({type:e,selectors:[["countriess-country-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["table",""],[1,"w-full"],[3,"class",4,"ngFor","ngForOf"],[1,"p-2"],[1,"w-7","h-7",3,"src","alt"],[1,"text-blue-600","underline",3,"routerLink"]],template:function(n,s){if(n&1&&(u(0,ue,2,0,"div",0),u(1,he,16,1,"ng-template",null,1,T)),n&2){let y=R(2);m("ngIf",s.countries.length===0)("ngIfElse",y)}},dependencies:[P,S,ne,F],encapsulation:2})})(),i})();function ye(i,e){i&1&&p(0,"shared-loading-spinner")}var ae=(()=>{let e=class{constructor(t){this.countriesService=t,this.countries=[],this.isLoading=!1}ngOnInit(){this.initialSearchBoxValue=this.countriesService.cacheStore.byCapital.lastSearch,this.countries=this.countriesService.cacheStore.byCapital.countries}setLoadingTrue(){this.isLoading=!0}setLoadingFalse(){this.isLoading=!1}searchByCapital(t){this.setLoadingTrue(),this.countriesService.searchCapital(t).subscribe(n=>{this.countries=n,this.setLoadingFalse()})}},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)(h(g))}})(),(()=>{e.\u0275cmp=f({type:e,selectors:[["countries-by-capital-page"]],decls:8,vars:3,consts:[[1,"text-xl","font-bold","mb-4"],["placeholder","Search by Capital",3,"initialValue","onNewSearch"],[1,"my-4"],[4,"ngIf"],[1,"text-lg","font-bold","mb-4"],[3,"countries"]],template:function(n,s){n&1&&(o(0,"h2",0),a(1,"By Capital"),r(),o(2,"shared-search-box",1),v("onNewSearch",function(L){return s.searchByCapital(L)}),r(),p(3,"hr",2),u(4,ye,1,0,"shared-loading-spinner",3),o(5,"h3",4),a(6," table of results "),r(),p(7,"countriess-country-table",5)),n&2&&(c(2),m("initialValue",s.initialSearchBoxValue),c(2),m("ngIf",s.isLoading),c(3),m("countries",s.countries))},dependencies:[S,D,oe,x],encapsulation:2})})(),i})();var se=(()=>{let e=class{constructor(t){this.countriesService=t,this.countries=[]}ngOnInit(){this.initialSearchBoxValue=this.countriesService.cacheStore.byCountries.lastSearch,this.countries=this.countriesService.cacheStore.byCountries.countries}searchByName(t){this.countriesService.searchByName(t).subscribe(n=>{this.countries=n})}},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)(h(g))}})(),(()=>{e.\u0275cmp=f({type:e,selectors:[["countries-by-country-page"]],decls:8,vars:2,consts:[[1,"text-xl","font-bold","mb-4"],[1,"mb-4"],["placeholder","Search By Name",3,"initialValue","onNewSearch"],[1,"my-4"],[1,"text-lg","font-bold","mb-4"],[3,"countries"]],template:function(n,s){n&1&&(o(0,"h2",0),a(1,"By Country Name"),r(),o(2,"div",1)(3,"shared-search-box",2),v("onNewSearch",function(L){return s.searchByName(L)}),r()(),p(4,"hr",3),o(5,"h3",4),a(6," table of results "),r(),p(7,"countriess-country-table",5)),n&2&&(c(3),m("initialValue",s.initialSearchBoxValue),c(4),m("countries",s.countries))},dependencies:[D,x],encapsulation:2})})(),i})();var Ce=function(i){return{"bg-slate-900 text-white":i}};function be(i,e){if(i&1){let l=Q();o(0,"button",6),v("click",function(){let s=G(l).$implicit,y=C();return K(y.searchByRegion(s))}),a(1),r()}if(i&2){let l=e.$implicit,t=C();m("ngClass",M(2,Ce,t.selectedRegion===l)),c(1),W(" ",l," ")}}var ce=(()=>{let e=class{constructor(t){this.countriesService=t,this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.countries=[]}ngOnInit(){this.selectedRegion=this.countriesService.cacheStore.byRegion.lastSearch,this.countries=this.countriesService.cacheStore.byRegion.countries}changeSelectedRegion(t){this.selectedRegion=t}searchByRegion(t){this.changeSelectedRegion(t),this.countriesService.searchByRegion(t).subscribe(n=>{this.countries=n})}},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)(h(g))}})(),(()=>{e.\u0275cmp=f({type:e,selectors:[["app-by-region-page"]],decls:10,vars:3,consts:[[1,"text-xl","font-bold","mb-4"],[1,"mb-4","flex","justify-evenly","gap-4"],["class","p-3 bg-slate-400 grow rounded-lg",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"my-4"],[1,"text-lg","font-bold","mb-4"],[3,"countries"],[1,"p-3","bg-slate-400","grow","rounded-lg",3,"ngClass","click"]],template:function(n,s){n&1&&(o(0,"h2",0),a(1,"By Region Name"),r(),o(2,"div",1),u(3,be,2,4,"button",2),r(),p(4,"hr",3),o(5,"h3",4),a(6," table of results for selected region: "),o(7,"strong"),a(8),r()(),p(9,"countriess-country-table",5)),n&2&&(c(3),m("ngForOf",s.regions),c(5),d(s.selectedRegion?s.selectedRegion:"No Region Selected yet"),c(1),m("countries",s.countries))},dependencies:[Y,P,x],encapsulation:2})})(),i})();function ve(i,e){i&1&&(o(0,"div",2),a(1," Espere Por Favor "),r())}function Se(i,e){if(i&1&&(o(0,"div",3)(1,"h2",4),a(2,"Pais: "),o(3,"strong"),a(4),r()(),o(5,"h3",5),a(6,"Bandera"),r(),p(7,"img",6),o(8,"div")(9,"ul")(10,"li",7)(11,"strong"),a(12,"Poblacion: "),r(),o(13,"span"),a(14),N(15,"number"),r()(),o(16,"li")(17,"strong"),a(18,"Codigo: "),r(),o(19,"span"),a(20),r()()()()()),i&2){let l=C();c(4),d(l.country.name.common),c(3),m("src",l.country.flags.svg,_)("alt",l.country.name.common),c(7),d(w(15,5,l.country.population)),c(6),d(l.country.cca3)}}var le=(()=>{let e=class{constructor(t,n,s){this.activatedRoute=t,this.countriesService=n,this.router=s}ngOnInit(){this.activatedRoute.params.pipe(J(({id:t})=>this.countriesService.searchById(t))).subscribe(t=>{if(!t)return this.router.navigateByUrl("");this.country=t})}searchCountry(t){this.countriesService.searchById(t).subscribe(n=>{if(console.log(n),!n)return this.router.navigateByUrl("");this.country=n})}},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)(h(te),h(g),h(ie))}})(),(()=>{e.\u0275cmp=f({type:e,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],["class","p-4",4,"ngIf","ngIfElse"],[1,"bg-red-400","w-full","p-4","text-white"],[1,"p-4"],[1,"text-xl","font-bold","mb-2"],[1,"text-lg","font-bold"],[1,"w-64","h-52","object-contain","mt-2","mb-4",3,"src","alt"],[1,"mb-2"]],template:function(n,s){if(n&1&&(u(0,ve,2,0,"ng-template",null,0,T),u(2,Se,21,7,"div",1)),n&2){let y=R(1);c(2),m("ngIf",s.country)("ngIfElse",y)}},dependencies:[S,F],encapsulation:2})})(),i})();var Be=[{path:"by-capital",component:ae},{path:"by-country",component:se},{path:"by-region",component:ce},{path:"by/:id",component:le},{path:"**",redirectTo:"by-capital"}],me=(()=>{let e=class{},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)}})(),(()=>{e.\u0275mod=E({type:e})})(),(()=>{e.\u0275inj=I({imports:[$.forChild(Be),$]})})(),i})();var Xe=(()=>{let e=class{},i=e;return(()=>{e.\u0275fac=function(n){return new(n||e)}})(),(()=>{e.\u0275mod=E({type:e})})(),(()=>{e.\u0275inj=I({imports:[Z,me,re]})})(),i})();export{Xe as CountriesModule};
